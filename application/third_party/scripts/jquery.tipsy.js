!function(t){t.fn.tipsy=function(i){return i=t.extend({},t.fn.tipsy.defaults,i),this.each(function(){var e=t.fn.tipsy.elementOptions(this,i);t(this).hover(function(){t.data(this,"cancel.tipsy",!0);var i=t.data(this,"active.tipsy");i||(i=t('<div class="tipsy"><div class="tipsy-inner"/></div>'),i.css({position:"absolute",zIndex:1e5}),t.data(this,"active.tipsy",i)),(t(this).attr("title")||"string"!=typeof t(this).attr("original-title"))&&t(this).attr("original-title",t(this).attr("title")||"").removeAttr("title");var s;"string"==typeof e.title?s=t(this).attr("title"==e.title?"original-title":e.title):"function"==typeof e.title&&(s=e.title.call(this)),i.find(".tipsy-inner")[e.html?"html":"text"](s||e.fallback);var a=t.extend({},t(this).offset(),{width:this.offsetWidth,height:this.offsetHeight});i.get(0).className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var n=i[0].offsetWidth,l=i[0].offsetHeight,o="function"==typeof e.gravity?e.gravity.call(this):e.gravity;switch(o.charAt(0)){case"n":i.css({top:a.top+a.height,left:a.left+a.width/2-n/2}).addClass("tipsy-north");break;case"s":i.css({top:a.top-l,left:a.left+a.width/2-n/2}).addClass("tipsy-south");break;case"e":i.css({top:a.top+a.height/2-l/2,left:a.left-n}).addClass("tipsy-east");break;case"w":i.css({top:a.top+a.height/2-l/2,left:a.left+a.width}).addClass("tipsy-west")}e.fade?i.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:.8}):i.css({visibility:"visible"})},function(){t.data(this,"cancel.tipsy",!1);var i=this;setTimeout(function(){if(!t.data(this,"cancel.tipsy")){var s=t.data(i,"active.tipsy");e.fade?s.stop().fadeOut(function(){t(this).remove()}):s.remove()}},100)})})},t.fn.tipsy.elementOptions=function(i,e){return t.metadata?t.extend({},e,t(i).metadata()):e},t.fn.tipsy.defaults={fade:!1,fallback:"",gravity:"n",html:!1,title:"title"},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"}}(jQuery);